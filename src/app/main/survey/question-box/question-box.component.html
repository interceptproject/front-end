<div id="question-box-component">
  <div class="progress-bar">
    <progressbar
    type="success"
    [max]="questions.length"
    [value]="current.index + 1">
    </progressbar>
  </div>
  <div class="options-bar">
    <div class="pref">
      <button
      type="button"
      class="btn btn-link"
      (click)="previous(current.index)">
        Previous
      </button>
    </div>
    <div class="info">
      <button
      type="button"
      class="btn btn-link"
      triggers="focus"
      placement="bottom"
      [popover]="current.question.help_text">
        Why asking?
      </button>
    </div>
    <div class="skip">
      <button
      type="button"
      class="btn btn-light btn-link"
      [disabled]="current.index == questions.length - 1"
      (click)="skip(current.index)">
        Skip
      </button>
    </div>
  </div>

  <div class="content">
    <div class="question-wrapper">
      <span>{{current.question.question_text}}</span>
    </div>
    <div class="answer-wrapper">
      <div
      class="template"
      [ngClass]="{
        'radio': current.question.question_id !== 1,
        'ineed': current.question.question_id == 1}"
      *ngIf="current.question.display == 'radio'">
        <div
        class="radio-option"
        *ngFor="let option of radioOptions; let i = index">
          <span
          class="text"
          [ngClass]="{'selected': option.selected}"
          (click)="clickRadioOption(i)">
            {{option.option.text}}
          </span>
        </div>
      </div>
      <div
      class="template dropdown"
      *ngIf="current.question.display == 'drop-down'">
        dropdown here
      </div>
      <div
      class="template location"
      *ngIf="current.question.display == 'location'">
        <div class="locaiton-item zipcode">
          <input
          type="text"
          name="location"
          class="form-control input-sm"
          placeholder="Enter zipcode"
          (change)="enteringZipcode($event.target.value)">
        </div>
        <div class="location-item or">
          <span>Or</span>
        </div>
        <div class="locaiton-item atlanta">
          <button
          type="button"
          class="btn btn-primary"
          (click)="enteringZipcode('Atlanta')">Atlanta</button>
        </div>
      </div>
    </div>
    <div class="next">
      <button
      type="button"
      class="btn btn-block btn-primary"
      [disabled]="!isAnswered"
      (click)="next(current.index)">
        Next
      </button>
    </div>
    <div
    class="next"
    *ngIf="current.index == questions.length - 1">
      <button
      type="button"
      class="btn btn-block btn-primary"
      [disabled]="!isAnswered"
      (click)="submit(current.index, true)">
        Save & Submit
      </button>
      <button
      type="button"
      class="btn btn-block btn-primary"
      [disabled]="!checkAnswerSelected()"
      (click)="submit(current.index, false)">
        Submit
      </button>
    </div>
  </div>

</div>
